##  水平垂直居中

> 此处内容来自 [10种水平垂直居中对齐方式](https://www.jianshu.com/p/907f99004c3e)、[CSS 拷问：水平垂直居中方法你会几种？](https://liuyib.github.io/2020/04/07/css-h-and-v-center/)

```html
<style>
	/* 公共代码 */
	.wp {
    	border: 1px solid red;
    	width: 300px;
    	height: 300px;
	}
	.box {
    	background: green;    
	}
	.box.size{
    	width: 100px;
    	height: 100px;
	}
</style>
<body>
	<div class="wp">
    	<div class="box size">123123</div>
	</div>
</body>
```

#####  1. absolute + 负 margin
```css
.wp {
    position: relative;
}
.box {
    position: absolute;;
    top: 50%;
    left: 50%;
    margin-left: -50px;
    margin-top: -50px;
}
```
- **缺点**：需要固定居中元素的宽高
- **兼容性**：IE 6+、Chrome 4+、Firefox 2+、Android 2.3+、iOS 6+

#####  2. absolute + margin auto
```css
.wp {
    position: relative;
}
.box {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
}
```
- **原理**：使用了 CSS 中的定位属性（absolute、fixed 等）后，如果 left 设置了具体值，没有设置 right 和 width，那么就会自动计算，把剩余的空间分配给 right 和 width。如果 left、right 和 width 都设置了具体值，并且没有占满横向空间，那么剩余空间就处于待分配状态，此时设置 **margin: auto;** 意味着把剩余的空间分配给 margin，并且左右均分，所以就实现了水平居中，垂直方向同理

- **副作用**
left: 0; right: 0; 相当于 width: 100%;
top: 0; bottom: 0; 相当于 height: 100%;

- **缺点**：需要固定居中元素的宽高，否则其宽高会被设为 100%

- **兼容性**：IE 6+、Chrome 4+、Firefox 2+、Android 2.3+、iOS 6+

#####  3. absolute + calc

```css
.wp {
	position: relative;
    border: 1px solid red;
    width: 300px;
    height: 300px;
}
.box {
    position: absolute;
    left: calc(50% - 50px);
    top: calc(50% - 50px);
    background: green;
}
```

- **缺点**：需要固定居中元素的宽高
- **兼容性**：IE 9+、Chrome 19+、Firefox 4+、Android 4.4、iOS 6+

#####  4. absolute + transform

```css
.wp {
	position: relative;
    border: 1px solid red;
    width: 300px;
    height: 300px;
}
.box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: green;
}
```

- **优点**：不需要固定居中元素的宽高
- **兼容性**：IE 9+、Chrome 4+、Firefox 3.5+、Android 3+、iOS 6+

#####  5. lineheight

```css
.wp {
    border: 1px solid red;
    line-height: 200px;
    text-align: center;
    font-size: 0px;
    width: 300px;
    height: 200px;
}
.box {
	background: #eeeeee;
    font-size: 16px;
    display: inline-block;
    vertical-align: middle;
    line-height: initial;
    text-align: left; /* 修正文字 */
}
```

#####  6. writing-mode
- writing-mode 可以改变文字显示方向

```html
<div class="wp">
    <div class="wp-inner">
        <div class="box">123123</div>
    </div>
</div>
```

```css
.wp {
    writing-mode: vertical-lr;
    text-align: center;
}
.wp-inner {
    writing-mode: horizontal-tb;
    display: inline-block;
    text-align: center;
    width: 100%;
}
.box {
    display: inline-block;
    margin: auto;
    text-align: left;
}
```
- **缺点**：需要修改 DOM 结构（为了居中元素，需要嵌套两层父元素）

- **优点**：不需要固定居中元素的宽高

- **兼容性**：IE 6+、Chrome 4+、Firefox 3.5+、Android 2.3+、iOS 5.1+

#####  7. css-table
```html
<div class="wp">
    <div class="box">123123</div>
</div>
```

```css
.wp {
    display: table-cell;
    text-align: center;
    vertical-align: middle;
}
.box {
    display: inline-block;
}
```

#####  8. Flex

```css
.wp {
  display: flex;
  justify-content: center; /* 水平居中 */
  align-items: center; /* 垂直居中 */
}
```

- 另一种写法

```css
.wp {
  display: flex;
}

.box {
  margin: auto;
}
```

- **优点**：不需要固定居中元素的宽高
- **兼容性**：IE 10+、Chrome 4+、Firefox 2+、Android 2.3+、iOS 6+

#####  9. Grid

```css
.wp {
  display: grid;
}

.box {
  justify-self: center; /* 水平居中 */
  align-self: center; /* 垂直居中 */
}
```
- 另一种用法

```css
.wp {
  display: grid;
}

.box {
  margin: auto;
}
```
- **优点**：不需要固定居中元素的宽高
- **兼容性**：IE 10+、Chrome 57+、Firefox 52+、Android 6+、iOS 10.3+