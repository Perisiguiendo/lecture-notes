### 在编辑器中开启装饰器

#### 1. 安装

> ```
> npm install customize-cra react-app-rewired @babel/plugin-proposal-decorators --save
> ```

#### 2. 在项目根目录新建 config-overrides.js 文件加入以下代码:

> ```
> const { override, addDecoratorsLegacy } = require('customize-cra');
> module.exports = override(
>  addDecoratorsLegacy()
> );
> ```

#### 3. 修改 package.json 文件如下：

> ```
> "scripts": {
>  "start": "react-app-rewired start",
>  "build": "react-app-rewired build",
>  "test": "react-app-rewired test",
>  "eject": "react-app-rewired eject"
> }
> ```
>
> 将package.json中的babel依赖修改
>
> ```
> "babel": {  "plugins": [    [      "@babel/plugin-proposal-decorators",      {        "legacy": true      }    ] ], "presets": [   "@babel/preset-react"  ]}
> ```

#### 4. VSCode 解决 experimentalDecorators warning

> ```
> Experimental support for decorators is a feature that is subject to change in a future release. 
> Set the 'experimentalDecorators' option in your 'tsconfig' or 'jsconfig' to remove this warning.
> ```

##### 4.1. 新 VSCode 版本 Updated Solution June 2020

```
    setting → 搜索 Experimental Decorators → 
```



##### 4.2. 旧 VSCode 版本 Old Solution

```
在根目录创建 tsconfig.json
```

> ```
> {    "compilerOptions": {        "experimentalDecorators": true,        "allowJs": true    }}
> ```

### 